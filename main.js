!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n}var n,r;return n=t,(r=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_toggleButtonState",value:function(){this._getInvalidInput()?(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0):(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1)}},{key:"_getInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._button=this._formElement.querySelector(this._submitButtonSelector),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.data,r=t.handleCardClick,o=t.handleLikeCard,i=t.handleRemoveCard,a=t.cardSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n.name,this._link=n.link,this._cardId=n._id,this._likes=n.likes,this._cardOwner=n.owner._id,this._cardSelector=a,this._handleCardClick=r,this._handleLikeCard=o,this._handleRemoveCard=i,this._cardLiked=!1}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo-grid__card").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".photo-grid__heart-icon").addEventListener("click",(function(){e._handleLikeCard(e)})),this._element.querySelector(".photo-grid__delete-icon").addEventListener("click",(function(){e._handleRemoveCard({id:e._cardId})})),this._element.querySelector(".photo-grid__image").addEventListener("click",(function(){e._handleCardClick({link:e._link,name:e._name})}))}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"_renderLikes",value:function(e){this._element.querySelector(".photo-grid__text").textContent=this._likes.length,this._likes.some((function(t){return t._id===e}))?(this._cardLiked=!0,this._element.querySelector(".photo-grid__heart-icon").classList.add("photo-grid__heart-icon_active")):(this._cardLiked=!1,this._element.querySelector(".photo-grid__heart-icon").classList.remove("photo-grid__heart-icon_active"))}},{key:"updateCount",value:function(e,t){this._likes=e.likes,this._renderLikes(t)}},{key:"generateCard",value:function(e){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".photo-grid__image").src=this._link,this._element.querySelector(".photo-grid__image").alt=this._name,this._element.querySelector(".photo-grid__title").textContent=this._name,this._renderLikes(e),this._cardOwner!==e&&(this._element.querySelector(".photo-grid__delete-icon").hidden=!0),this._element}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n),this._items=[]}var t,n;return t=e,(n=[{key:"addItem",value:function(e,t){this._container.prepend(e),this._items[t]=e}},{key:"removeItem",value:function(e){var t=this._items[e];t.remove(),t=null,this._items.splice(e)}},{key:"renderItems",value:function(e){e.forEach(this._renderer)}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this.close=this.close.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("popup_type_preview")||t.target.classList.contains("popup__close-button"))&&e.close()}))}}])&&a(t.prototype,n),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},l(e,t,n||e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function a(e){var t,n=e.popupSelector,r=e.formButton,o=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=o,t._formButton=r,t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".form").addEventListener("submit",(function(t){t.preventDefault(),e._popupElement.querySelector(".form__button").textContent="Saving...",e._handleFormSubmit(e._getInputValues())})),l(p(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupElement.querySelector(".form").reset(),l(p(a.prototype),"close",this).call(this)}},{key:"stopLoading",value:function(){this._popupElement.querySelector(".form__button").textContent=this._formButton}},{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupElement.querySelectorAll(".form__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}}])&&s(t.prototype,n),a}(c);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},v(e,t,n||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function g(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g(this,e)});function a(){return y(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._popupElement.querySelector(".popup__caption").textContent=n;var r=this._popupElement.querySelector(".popup__image");r.src=t,r.alt=n,v(E(a.prototype),"open",this).call(this)}}])&&m(t.prototype,n),a}(c),k=S;function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=t.nameSelector,r=t.titleSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._titleElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,about:this._titleElement.textContent,avatar:this._avatarElement.src,id:this._id}}},{key:"setUserInfo",value:function(e){this._nameElement.textContent=e.name,this._titleElement.textContent=e.about,this._avatarElement.src=e.avatar,this._id=e._id}},{key:"getId",value:function(){return this._id}},{key:"setAvatar",value:function(e){this._avatarElement.src=e}}])&&C(t.prototype,n),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r,this._handleResponse=this._handleResponse.bind(this)}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{headers:this._headers,method:"DELETE",body:JSON.stringify({_id:e})}).then(this._handleResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{headers:this._headers,method:"PUT",body:JSON.stringify({_id:e})}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{headers:this._headers,method:"DELETE",body:JSON.stringify({_id:e})}).then(this._handleResponse)}},{key:"getUser",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"setUser",value:function(e,t,n){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t,avatar:n})}).then(this._handleResponse)}},{key:"getAvatar",value:function(){return fetch("".concat(this._baseUrl,"users/me/avatar"),{headers:this._headers,method:"GET"}).then(this._handleResponse)}},{key:"setAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._handleResponse)}}])&&L(t.prototype,n),e}();function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=document.querySelector(".popup_type_edit"),R=document.querySelector(".popup_type_add"),j=document.querySelector(".popup_type_avatar"),P=I.querySelector(".form"),T=R.querySelector(".form"),B=j.querySelector(".form"),x=document.querySelector(".profile__edit-button"),U=document.querySelector(".profile__add-button"),A=document.querySelector(".profile__avatar-button"),V=(document.querySelector(".profile__image"),document.querySelector(".profile__name")),D=document.querySelector(".profile__title");function F(e){e._popupElement.querySelector(".form__button").classList.add("form__button_disabled")}var N=new O({baseUrl:"https://around.nomoreparties.co/v1/group-11/",headers:{authorization:"ce0cfad9-c022-44c4-8673-897f4eaf9eed","Content-Type":"application/json"}});Promise.all([N.getUser(),N.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];J.setUserInfo(o),i.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),H.renderItems(i)})).catch((function(e){return console.log("Error: ".concat(e))}));var J=new w({nameSelector:".profile__name",titleSelector:".profile__title",avatarSelector:".profile__image"}),H=new i({renderer:function(e){M(e)}},".photo-grid");function M(e){var t=new r({data:e,handleCardClick:function(e){K.open(e)},handleLikeCard:function(e){e._cardLiked?N.deleteLike(e._cardId).then((function(t){e.updateCount(t,J.getId())})).catch((function(e){return console.log("Error: ".concat(e))})):N.addLike(e._cardId).then((function(t){e.updateCount(t,J.getId())})).catch((function(e){return console.log("Error: ".concat(e))}))},handleRemoveCard:function(e){var t;t=e.id,Y._popupElement.querySelector(".form__input_type_card-id").value=t,Y.open()},cardSelector:".card-template"}),n=t.generateCard(J.getId());H.addItem(n,t._cardId)}var z=new d({popupSelector:".popup_type_add",formButton:"Create",handleFormSubmit:function(e){var t={name:e.name,link:e.link};N.addCard(t).then((function(e){M(e),z.close()})).catch((function(e){return console.log("Error: ".concat(e))})).finally((function(){z.stopLoading()}))}});z.setEventListeners(),U.addEventListener("click",(function(){F(z),z.open()}));var G=new d({popupSelector:".popup_type_edit",formButton:"Save",handleFormSubmit:function(e){var t=e.name,n=e.about;N.setUser(t,n).then((function(e){V.textContent=t,D.textContent=n,G.close()})).catch((function(e){return console.log("Error: ".concat(e))})).finally((function(){G.stopLoading()}))}});G.setEventListeners(),x.addEventListener("click",(function(){var e,t;e=V.textContent,t=D.textContent,G._popupElement.querySelector(".form__input_type_name").value=e,G._popupElement.querySelector(".form__input_type_title").value=t,G.open()}));var Y=new d({popupSelector:".popup_type_delete",formButton:"Yes",handleFormSubmit:function(e){N.deleteCard(e.id).then((function(t){H.removeItem(e.id),Y.close()})).catch((function(e){return console.log("Error: ".concat(e))})).finally((function(){Y.stopLoading()}))}});Y.setEventListeners();var $=new d({popupSelector:".popup_type_avatar",formButton:"Save",handleFormSubmit:function(e){var t=e.avatarLink;N.setAvatar(t).then((function(e){J.setAvatar(t),$.close()})).catch((function(e){return console.log("Error: ".concat(e))})).finally((function(){$.stopLoading()}))}});$.setEventListeners(),A.addEventListener("click",(function(){$.open(),F($)}));var K=new k(".popup_type_preview");K.setEventListeners();var Q={inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"};new t(Q,T).enableValidation(),new t(Q,P).enableValidation(),new t(Q,B).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU1LLEVBQWtCLElBQUk5RixFQUFjLENBQ3hDVCxjQUFlLHFCQUNmVSxXQUFZLE9BQ1pDLGlCQUFrQixTQUFDdkQsR0FDakIsSUFBTW9KLEVBQVlwSixFQUFLcUosV0FDdkI3QyxFQUNHOEMsVUFBVUYsR0FDVjlELE1BQUssU0FBQ3RGLEdBQ0wrRyxFQUFLdUMsVUFBVUYsR0FDZkQsRUFBZ0JuRyxXQUVqQndFLE9BQU0sU0FBQ0MsR0FBRCxPQUFTQyxRQUFRQyxJQUFSLGlCQUFzQkYsT0FDckNtQixTQUFRLFdBQ1BPLEVBQWdCTixvQkFJeEJNLEVBQWdCTCxvQkFDaEIzQyxFQUFhMUcsaUJBQWlCLFNBQVMsV0FDckMwSixFQUFnQnBCLE9BQ2hCekIsRUFBc0I2QyxNQUl4QixJQUFNckIsRUFBYSxJQUFJL0QsRUFBZSx1QkFDdEMrRCxFQUFXZ0Isb0JBR1gsSUFBTVMsRUFBeUIsQ0FDN0I5TCxjQUFlLGVBQ2ZFLHFCQUFzQixnQkFDdEJFLG9CQUFxQix3QkFDckJFLGdCQUFpQix5QkFDakJFLFdBQVksdUJBSVcsSUFBSWIsRUFBY21NLEVBQXdCeEQsR0FDbER5RCxtQkFFUyxJQUFJcE0sRUFBY21NLEVBQXdCekQsR0FDbEQwRCxtQkFFVSxJQUFJcE0sRUFDOUJtTSxFQUNBdkQsR0FFa0J3RCxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xuXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgfVxuXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZXRJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRJbnZhbGlkSW5wdXQoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIGlucHV0IGlzIHZhbGlkXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgLy9wdWJsaWMgbWV0aG9kIHRvIGVuYWJsZSBmb3JtIHZhbGlkYXRpb25cbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTsgIFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yIiwiY2xhc3MgQ2FyZCB7XG4gICAgY29uc3RydWN0b3IoeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZUxpa2VDYXJkLCBoYW5kbGVSZW1vdmVDYXJkLCBjYXJkU2VsZWN0b3IgfSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgICAgICB0aGlzLl9jYXJkT3duZXIgPSBkYXRhLm93bmVyLl9pZDtcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkID0gaGFuZGxlTGlrZUNhcmQ7XG4gICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQgPSBoYW5kbGVSZW1vdmVDYXJkO1xuICAgICAgICB0aGlzLl9jYXJkTGlrZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19jYXJkJylcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICAvL3NldCB1cCBldmVudHNcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9faGVhcnQtaWNvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKHRoaXMpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19kZWxldGUtaWNvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoeyBpZDogdGhpcy5fY2FyZElkIH0pO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19pbWFnZScpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSk7XG4gICAgICAgICAgICB9KVxuXG4gICAgfTtcblxuICAgIHJlbW92ZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIF9yZW5kZXJMaWtlcyh1c2VySWQpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fdGV4dCcpLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBpc0xpa2VkID0gdGhpcy5fbGlrZXMuc29tZShsaWtlID0+IGxpa2UuX2lkID09PSB1c2VySWQpXG4gICAgICAgIGlmIChpc0xpa2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkTGlrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9faGVhcnQtaWNvbicpLmNsYXNzTGlzdC5hZGQoJ3Bob3RvLWdyaWRfX2hlYXJ0LWljb25fYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jYXJkTGlrZWQgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9faGVhcnQtaWNvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3Bob3RvLWdyaWRfX2hlYXJ0LWljb25fYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVDb3VudChyZXMsIHVzZXJJZCkge1xuICAgICAgICB0aGlzLl9saWtlcyA9IHJlcy5saWtlcztcbiAgICAgICAgdGhpcy5fcmVuZGVyTGlrZXModXNlcklkKTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNhcmQodXNlcklkKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9faW1hZ2UnKS5zcmMgPSB0aGlzLl9saW5rO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2ltYWdlJykuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJMaWtlcyh1c2VySWQpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jYXJkT3duZXIgIT09IHVzZXJJZCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9fZGVsZXRlLWljb24nKS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZFxuIiwiY2xhc3MgU2VjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgICBhZGRJdGVtKGVsZW1lbnQsIGlkKSB7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9pdGVtc1tpZF0gPSBlbGVtZW50O1xuICAgIH1cblxuICAgIHJlbW92ZUl0ZW0oaWQpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9pdGVtc1tpZF1cbiAgICAgICAgaXRlbS5yZW1vdmUoKTtcbiAgICAgICAgaXRlbSA9IG51bGxcbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKGlkKVxuICAgIH1cblxuICAgIHJlbmRlckl0ZW1zKHJlcykge1xuICAgICAgIHJlcy5mb3JFYWNoKHRoaXMuX3JlbmRlcmVyKVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbiIsImNsYXNzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKVxuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcblxuICAgIH1cblxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfdHlwZV9wcmV2aWV3JykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGZvcm1CdXR0b24sIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2Zvcm1CdXR0b24gPSBmb3JtQnV0dG9uXG4gIH1cbiAgXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIikuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7IFxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KVxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHN0b3BMb2FkaW5nKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKS50ZXh0Q29udGVudCA9IHRoaXMuX2Zvcm1CdXR0b247XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIilcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSlcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlc1xuICB9XG5cbn1cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG5cbiAgICBvcGVuKHsgbGluaywgbmFtZSB9KSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcHRpb24nKS50ZXh0Q29udGVudCA9IG5hbWVcbiAgICAgICAgY29uc3QgaW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpXG4gICAgICAgIGltYWdlLnNyYyA9IGxpbms7XG4gICAgICAgIGltYWdlLmFsdCA9IG5hbWU7XG4gICAgICAgIHN1cGVyLm9wZW4oKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEltYWdlIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgdGl0bGVTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGl0bGVTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX3RpdGxlRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMsXG4gICAgICBpZDogdGhpcy5faWQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHJlcykge1xuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gcmVzLm5hbWU7XG4gICAgdGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gcmVzLmFib3V0O1xuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gcmVzLmF2YXRhcjtcbiAgICB0aGlzLl9pZCA9IHJlcy5faWQ7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWQ7XG4gIH1cblxuICBzZXRBdmF0YXIoc3JjKSB7XG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgPSBzcmM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsLFxuICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnMsXG4gICAgICB0aGlzLl9oYW5kbGVSZXNwb25zZSA9IHRoaXMuX2hhbmRsZVJlc3BvbnNlLmJpbmQodGhpcylcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgfVxuXG4gIGFkZENhcmQoZGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICBkZWxldGVDYXJkKF9pZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzLyR7X2lkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgX2lkXG4gICAgICB9KSxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxuICB9XG5cbiAgYWRkTGlrZShfaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9saWtlcy8ke19pZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgIF9pZFxuICAgICAgfSksXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoX2lkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvbGlrZXMvJHtfaWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICBfaWRcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICBnZXRVc2VyKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICBzZXRVc2VyKG5hbWUsIGFib3V0LCBhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICBuYW1lLCBhYm91dCwgYXZhdGFyXG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgfVxuXG5nZXRBdmF0YXIoKSB7XG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lL2F2YXRhcmAsIHtcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbn1cblxuc2V0QXZhdGFyKGF2YXRhcikge1xuICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhdmF0YXJcbiAgICB9KVxuICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxufVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vTW9kYWwgU2VsZWN0b3JzXG5jb25zdCBlZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZWRpdFwiKTtcbmNvbnN0IGFkZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2FkZFwiKTtcbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2F2YXRhclwiKTtcblxuLy9Gb3JtIFNlbGVjdG9yc1xuY29uc3QgZWRpdEZvcm0gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xuY29uc3QgYWRkRm9ybSA9IGFkZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG5cbi8vQnV0dG9uIHNlbGVjdG9yc1xuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XG5cbi8vY2FyZCBMaXN0IFNlY3Rpb25cbmNvbnN0IGNhcmRMaXN0U2VjdGlvbiA9IFwiLnBob3RvLWdyaWRcIjtcblxuLy9BdmF0YXIgaW1hZ2VcbmNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcblxuLy9zZXREZWZhdWx0QnV0dG9uU3RhdGVcbmZ1bmN0aW9uIHNldERlZmF1bHRCdXR0b25TdGF0ZShwb3B1cCkge1xuICBwb3B1cC5fcG9wdXBFbGVtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fYnV0dG9uXCIpXG4gICAgLmNsYXNzTGlzdC5hZGQoXCJmb3JtX19idXR0b25fZGlzYWJsZWRcIik7XG59XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoY29uZmlnKTtcblxuLy9HZXQgdXNlciBpbmZvIGFuZCBsb2FkIGluaXRpYWwgY2FyZHNcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlcigpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoW3VzZXJEYXRhLCBjYXJkc0FycmF5XSkgPT4ge1xuICAgIHVzZXIuc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIGNhcmRzQXJyYXkuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5jcmVhdGVkQXQpIC0gbmV3IERhdGUoYi5jcmVhdGVkQXQpKTtcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoY2FyZHNBcnJheSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKTtcblxuLy9TZXQgaW5pdGlhbCB1c2VyIGRhdGEgYW5kIGF2YXRhciBpbWFnZVxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxuICB0aXRsZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcbn0pO1xuXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgcmVuZGVyQ2FyZChpdGVtKTtcbiAgICB9LFxuICB9LFxuICBjYXJkTGlzdFNlY3Rpb25cbik7XG5cbi8vRnVuY3Rpb24gdG8gcmVuZGVyIGEgbmV3IGNhcmRcbmZ1bmN0aW9uIHJlbmRlckNhcmQoaXRlbSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgIGRhdGE6IGl0ZW0sXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoaXRlbSkgPT4ge1xuICAgICAgcG9wdXBJbWFnZS5vcGVuKGl0ZW0pO1xuICAgIH0sXG4gICAgaGFuZGxlTGlrZUNhcmQ6IChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5fY2FyZExpa2VkKSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5kZWxldGVMaWtlKGl0ZW0uX2NhcmRJZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpdGVtLnVwZGF0ZUNvdW50KHJlcywgdXNlci5nZXRJZCgpKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaVxuICAgICAgICAgIC5hZGRMaWtlKGl0ZW0uX2NhcmRJZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBpdGVtLnVwZGF0ZUNvdW50KHJlcywgdXNlci5nZXRJZCgpKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVJlbW92ZUNhcmQ6IChpdGVtKSA9PiB7XG4gICAgICBzZXRDYXJkSWQoaXRlbS5pZCksIGNvbmZpcm1EZWxldGVQb3B1cC5vcGVuKCk7XG4gICAgfSxcbiAgICBjYXJkU2VsZWN0b3I6IFwiLmNhcmQtdGVtcGxhdGVcIixcbiAgfSk7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQodXNlci5nZXRJZCgpKTtcbiAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQsIGNhcmQuX2NhcmRJZCk7XG59XG5cbi8vQUREIE5FVyBQTEFDRSBQT1BVUFxuY29uc3QgYWRkUGxhY2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hZGRcIixcbiAgZm9ybUJ1dHRvbjogXCJDcmVhdGVcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBjb25zdCBuZXdQbGFjZSA9IHsgbmFtZTogZGF0YS5uYW1lLCBsaW5rOiBkYXRhLmxpbmsgfTtcbiAgICBhcGlcbiAgICAgIC5hZGRDYXJkKG5ld1BsYWNlKVxuICAgICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcbiAgICAgICAgcmVuZGVyQ2FyZChuZXdDYXJkKSwgYWRkUGxhY2VQb3B1cC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApKVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBhZGRQbGFjZVBvcHVwLnN0b3BMb2FkaW5nKCk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuXG5hZGRQbGFjZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgc2V0RGVmYXVsdEJ1dHRvblN0YXRlKGFkZFBsYWNlUG9wdXApLCBhZGRQbGFjZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG4vL0VESVQgUFJPRklMRSBQT1BVUFxuY29uc3QgZWRpdFByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9lZGl0XCIsXG4gIGZvcm1CdXR0b246IFwiU2F2ZVwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBkYXRhLm5hbWU7XG4gICAgY29uc3QgYWJvdXQgPSBkYXRhLmFib3V0O1xuICAgIGFwaVxuICAgICAgLnNldFVzZXIobmFtZSwgYWJvdXQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgICAgIGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgZWRpdFByb2ZpbGVQb3B1cC5zdG9wTG9hZGluZygpO1xuICAgICAgfSk7XG4gIH0sXG59KTtcbmZ1bmN0aW9uIHNldERlZmF1bHRWYWx1ZXMobmFtZSwgYWJvdXQpIHtcbiAgZWRpdFByb2ZpbGVQb3B1cC5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdHlwZV9uYW1lXCIpLnZhbHVlID1cbiAgICBuYW1lO1xuICBlZGl0UHJvZmlsZVBvcHVwLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBcIi5mb3JtX19pbnB1dF90eXBlX3RpdGxlXCJcbiAgKS52YWx1ZSA9IGFib3V0O1xufVxuXG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHNldERlZmF1bHRWYWx1ZXMocHJvZmlsZU5hbWUudGV4dENvbnRlbnQsIHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudCk7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbi8vQ09ORklSTSBERUxFVEUgUE9QVVBcbmNvbnN0IGNvbmZpcm1EZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9kZWxldGVcIixcbiAgZm9ybUJ1dHRvbjogXCJZZXNcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGRhdGEuaWQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGNhcmRzTGlzdC5yZW1vdmVJdGVtKGRhdGEuaWQpO1xuICAgICAgICBjb25maXJtRGVsZXRlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgY29uZmlybURlbGV0ZVBvcHVwLnN0b3BMb2FkaW5nKCk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuY29uZmlybURlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5mdW5jdGlvbiBzZXRDYXJkSWQoaWQpIHtcbiAgY29uZmlybURlbGV0ZVBvcHVwLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICBcIi5mb3JtX19pbnB1dF90eXBlX2NhcmQtaWRcIlxuICApLnZhbHVlID0gaWQ7XG59XG5cbi8vRURJVCBBVkFUQVIgUE9QVVBcbmNvbnN0IGVkaXRBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIucG9wdXBfdHlwZV9hdmF0YXJcIixcbiAgZm9ybUJ1dHRvbjogXCJTYXZlXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgY29uc3QgYXZhdGFyVXJsID0gZGF0YS5hdmF0YXJMaW5rO1xuICAgIGFwaVxuICAgICAgLnNldEF2YXRhcihhdmF0YXJVcmwpXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICB1c2VyLnNldEF2YXRhcihhdmF0YXJVcmwpO1xuICAgICAgICBlZGl0QXZhdGFyUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgZWRpdEF2YXRhclBvcHVwLnN0b3BMb2FkaW5nKCk7XG4gICAgICB9KTtcbiAgfSxcbn0pO1xuZWRpdEF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZWRpdEF2YXRhclBvcHVwLm9wZW4oKTtcbiAgc2V0RGVmYXVsdEJ1dHRvblN0YXRlKGVkaXRBdmF0YXJQb3B1cCk7XG59KTtcblxuLy9QUkVWSUVXIElNQUdFIFBPUFVQXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiLnBvcHVwX3R5cGVfcHJldmlld1wiKTtcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy9Gb3JtIFZhbGlkYXRpb25cbmNvbnN0IGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vL0NyZWF0ZSBpbnN0YW5jZXMgb2YgRm9ybVZhbGlkYXRvclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsIGFkZEZvcm0pO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVZhbGlkYXRpb25TZXR0aW5ncywgZWRpdEZvcm0pO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MsXG4gIGF2YXRhckZvcm1cbik7XG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiIsIi8vQXBpXG5jb25zdCBjb25maWcgPSB7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMS9cIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiY2UwY2ZhZDktYzAyMi00NGM0LTg2NzMtODk3ZjRlYWY5ZWVkXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59O1xuXG5leHBvcnQgeyBjb25maWcgfTtcbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9nZXRJbnZhbGlkSW5wdXQiLCJfYnV0dG9uIiwiZGlzYWJsZWQiLCJfaW5wdXRMaXN0Iiwic29tZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNhcmQiLCJoYW5kbGVSZW1vdmVDYXJkIiwiY2FyZFNlbGVjdG9yIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRJZCIsIl9pZCIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRPd25lciIsIm93bmVyIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlTGlrZUNhcmQiLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9jYXJkTGlrZWQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsInVzZXJJZCIsImxlbmd0aCIsImxpa2UiLCJyZXMiLCJfcmVuZGVyTGlrZXMiLCJfZ2V0VGVtcGxhdGUiLCJzcmMiLCJhbHQiLCJoaWRkZW4iLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJfaXRlbXMiLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW0iLCJzcGxpY2UiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImZvcm1CdXR0b24iLCJoYW5kbGVGb3JtU3VibWl0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybUJ1dHRvbiIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZSIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwidGl0bGVTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX3RpdGxlRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiYWJvdXQiLCJhdmF0YXIiLCJBcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJfaGFuZGxlUmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJ0aGVuIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0TW9kYWwiLCJhZGRNb2RhbCIsImF2YXRhck1vZGFsIiwiZWRpdEZvcm0iLCJhZGRGb3JtIiwiYXZhdGFyRm9ybSIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVUaXRsZSIsInNldERlZmF1bHRCdXR0b25TdGF0ZSIsInBvcHVwIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsImNhcmRzQXJyYXkiLCJ1c2VyIiwic2V0VXNlckluZm8iLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiY3JlYXRlZEF0IiwiY2FyZHNMaXN0IiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJyZW5kZXJDYXJkIiwiY2FyZCIsInBvcHVwSW1hZ2UiLCJvcGVuIiwiZGVsZXRlTGlrZSIsInVwZGF0ZUNvdW50IiwiZ2V0SWQiLCJhZGRMaWtlIiwiY29uZmlybURlbGV0ZVBvcHVwIiwiY2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwiYWRkUGxhY2VQb3B1cCIsIm5ld1BsYWNlIiwiYWRkQ2FyZCIsIm5ld0NhcmQiLCJmaW5hbGx5Iiwic3RvcExvYWRpbmciLCJzZXRFdmVudExpc3RlbmVycyIsImVkaXRQcm9maWxlUG9wdXAiLCJzZXRVc2VyIiwiZGVsZXRlQ2FyZCIsInJlbW92ZUl0ZW0iLCJlZGl0QXZhdGFyUG9wdXAiLCJhdmF0YXJVcmwiLCJhdmF0YXJMaW5rIiwic2V0QXZhdGFyIiwiZm9ybVZhbGlkYXRpb25TZXR0aW5ncyIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9