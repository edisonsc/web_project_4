!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=n}var n,r;return n=t,(r=[{key:"_showInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_toggleButtonState",value:function(){this._getInvalidInput()?(this._button.classList.add(this._inactiveButtonClass),this._button.disabled=!0):(this._button.classList.remove(this._inactiveButtonClass),this._button.disabled=!1)}},{key:"_getInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector)),this._button=this._formElement.querySelector(this._submitButtonSelector),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.data,r=t.handleCardClick,o=t.handleLikeCard,i=t.handleRemoveCard,a=t.cardSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n.name,this._link=n.link,this._cardId=n._id,this._likes=n.likes,this._cardLiked=!1,this._cardOwner=n.owner._id,this._cardSelector=a,this._handleCardClick=r,this._handleLikeCard=o,this._handleRemoveCard=i}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".photo-grid__card").cloneNode(!0)}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".photo-grid__heart-icon").addEventListener("click",(function(){e._handleLikeCard(e)})),this._element.querySelector(".photo-grid__delete-icon").addEventListener("click",(function(){e._handleRemoveCard({id:e._cardId})})),this._element.querySelector(".photo-grid__image").addEventListener("click",(function(){e._handleCardClick({link:e._link,name:e._name})}))}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"updateCount",value:function(e){this._element.querySelector(".photo-grid__text").textContent=e.likes.length,this._cardLiked=!this._cardLiked,this._element.querySelector(".photo-grid__heart-icon").classList.toggle("photo-grid__heart-icon_active")}},{key:"generateCard",value:function(e){var t=this;return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".photo-grid__image").src=this._link,this._element.querySelector(".photo-grid__image").alt=this._name,this._element.querySelector(".photo-grid__title").textContent=this._name,this._element.querySelector(".photo-grid__text").textContent=this._likes.length,this._likes.forEach((function(n){n._id===e&&(t._cardLiked=!0,t._element.querySelector(".photo-grid__heart-icon").classList.toggle("photo-grid__heart-icon_active"))})),this._cardOwner!==e&&(this._element.querySelector(".photo-grid__delete-icon").hidden=!0),this._element}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=document.querySelector(n),this._cards=[]}var t,n;return t=e,(n=[{key:"addItem",value:function(e,t){this._container.prepend(e),this._cards[t]=e}},{key:"removeItem",value:function(e){var t=this._cards[e];t.remove(),t=null,this._cards.splice(e)}},{key:"renderItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this.close=this.close.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popupElement.addEventListener("click",(function(t){(t.target.classList.contains("popup_type_preview")||t.target.classList.contains("popup__close-button"))&&e.close()}))}}])&&a(t.prototype,n),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},l(e,t,n||e)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(e){var t,n=e.popupSelector,r=e.formButton,o=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._handleFormSubmit=o,t._formButton=r,t}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;this._popupElement.querySelector(".form").addEventListener("submit",(function(t){t.preventDefault(),e._popupElement.querySelector(".form__button").textContent="Saving...",e._handleFormSubmit(e._getInputValues())})),l(d(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupElement.querySelector(".form").reset(),this._popupElement.querySelector(".form__button").textContent=this._formButton,l(d(a.prototype),"close",this).call(this)}},{key:"setDefaultValues",value:function(e,t){this._popupElement.querySelector(".form__input_type_name").value=e,this._popupElement.querySelector(".form__input_type_title").value=t}},{key:"setCardId",value:function(e){this._popupElement.querySelector(".form__input_type_card-id").value=e}},{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupElement.querySelectorAll(".form__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value,e._formValues[t.about]=t.value})),this._formValues}}])&&u(t.prototype,n),a}(s);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},v(e,t,n||e)}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function E(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function a(){return y(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"open",value:function(e){var t=e.link,n=e.name;this._popupElement.querySelector(".popup__caption").textContent=n;var r=this._popupElement.querySelector(".popup__image");r.src=t,r.alt=n,v(S(a.prototype),"open",this).call(this)}}])&&m(t.prototype,n),a}(s),k=g;function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t){var n=t.nameSelector,r=t.titleSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._titleElement=document.querySelector(r),this._avatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,about:this._titleElement.textContent,avatar:this._avatarElement.src}}},{key:"setUserInfo",value:function(e){this._nameElement.textContent=e.name,this._titleElement.textContent=e.about,this._avatarElement.src=e.avatar}}])&&C(t.prototype,n),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r,this._handleResponse=this._handleResponse.bind(this),this._handleErrorResponse=this._handleErrorResponse.bind(this)}var t,n;return t=e,(n=[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"_handleErrorResponse",value:function(e){console.log("Error:",e)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"addCard",value:function(e){return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers,method:"POST",body:JSON.stringify(e)}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"cards/").concat(e),{headers:this._headers,method:"DELETE",body:JSON.stringify({_id:e})}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{headers:this._headers,method:"PUT",body:JSON.stringify({_id:e})}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{headers:this._headers,method:"DELETE",body:JSON.stringify({_id:e})}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"getUser",value:function(){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"setUser",value:function(e,t,n){return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t,avatar:n})}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"getAvatar",value:function(){return fetch("".concat(this._baseUrl,"users/me/avatar"),{headers:this._headers,method:"GET"}).then(this._handleResponse).catch(this._handleErrorResponse)}},{key:"setAvatar",value:function(e){return fetch("".concat(this._baseUrl,"users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._handleResponse).catch(this._handleErrorResponse)}}])&&L(t.prototype,n),e}(),O=document.querySelector(".popup_type_edit"),q=document.querySelector(".popup_type_add"),I=O.querySelector(".form"),j=q.querySelector(".form"),P=document.querySelector(".profile__edit-button"),x=document.querySelector(".profile__add-button"),B=document.querySelector(".profile__avatar-button"),T=document.querySelector(".profile__image"),U=document.querySelector(".profile__name"),V=document.querySelector(".profile__title"),D=new R({baseUrl:"https://around.nomoreparties.co/v1/group-11/",headers:{authorization:"ce0cfad9-c022-44c4-8673-897f4eaf9eed","Content-Type":"application/json"}});function A(e){return new r({data:e,handleCardClick:function(e){J.open(e)},handleLikeCard:function(e){console.log(e),e._cardLiked?D.deleteLike(e._cardId).then((function(t){e.updateCount(t)})):D.addLike(e._cardId).then((function(t){e.updateCount(t)}))},handleRemoveCard:function(e){N.setCardId(e.id),N.open()},cardSelector:".card-template"})}var F="";D.getUser().then((function(e){D.getInitialCards().then((function(t){t.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),(F=new i({items:t,renderer:function(t){var n=A(t),r=n.generateCard(e._id);F.addItem(r,n._cardId)}},".photo-grid")).renderItems()}));var t=new p({popupSelector:".popup_type_add",formButton:"Create",handleFormSubmit:function(n){var r={name:n.name,link:n.link};D.addCard(r).then((function(t){var n=A(t),r=n.generateCard(e._id);F.addItem(r,n._cardId)})).finally(t.close())}});t.setEventListeners(),x.addEventListener("click",(function(){t.open()}))}));var N=new p({popupSelector:".popup_type_delete",formButton:"Yes",handleFormSubmit:function(e){D.deleteCard(e.id).then((function(t){F.removeItem(e.id)})).finally(N.close())}});N.setEventListeners(),D.getUser().then((function(e){new w({nameSelector:".profile__name",titleSelector:".profile__title",avatarSelector:".profile__image"}).setUserInfo(e)})),D.getUser().then((function(e){var t=new p({popupSelector:".popup_type_edit",formButton:"Save",handleFormSubmit:function(e){var n=e.name,r=e.about;D.setUser(n,r).then((function(e){U.textContent=n,V.textContent=r})).finally(t.close())}});t.setEventListeners(),P.addEventListener("click",(function(){t.setDefaultValues(U.textContent,V.textContent),t.open()}))}));var J=new k(".popup_type_preview");J.setEventListeners();var H=new p({popupSelector:".popup_type_avatar",formButton:"Save",handleFormSubmit:function(e){var t=e.link;D.setAvatar(t).then((function(e){T.src=t})).finally(H.close())}});H.setEventListeners(),B.addEventListener("click",(function(){H.open()}));var z={inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"};new t(z,j).enableValidation(),new t(z,I).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLFNBQUM5RixHQUNMMkcsRUFBWTlFLElBQU1vSCxLQUVuQlQsUUFBUVEsRUFBZ0I1RixZQUkvQjRGLEVBQWdCUCxvQkFDaEIvQixFQUFhakgsaUJBQWlCLFNBQVMsV0FBUXVKLEVBQWdCOUIsVUFHL0QsSUFBTWlDLEVBQXlCLENBQzdCMUwsY0FBZSxlQUNmRSxxQkFBc0IsZ0JBQ3RCRSxvQkFBcUIsd0JBQ3JCRSxnQkFBaUIseUJBQ2pCRSxXQUFZLHVCQUlXLElBQUliLEVBQWMrTCxFQUF3QjVDLEdBQ2xENkMsbUJBRVMsSUFBSWhNLEVBQWMrTCxFQUF3QjdDLEdBQ2xEOEMsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgICAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICAgICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xuICAgICAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcblxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIH1cblxuICAgIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIH1cblxuICAgIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICB9XG5cbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZ2V0SW52YWxpZElucHV0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0SW52YWxpZElucHV0KCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSk7XG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jaGVjayBpZiBpbnB1dCBpcyB2YWxpZFxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIC8vcHVibGljIG1ldGhvZCB0byBlbmFibGUgZm9ybSB2YWxpZGF0aW9uXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7ICBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvciIsImNsYXNzIENhcmQge1xuICAgIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2FyZCwgaGFuZGxlUmVtb3ZlQ2FyZCwgY2FyZFNlbGVjdG9yIH0pIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICAgICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XG4gICAgICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICAgICAgdGhpcy5fY2FyZExpa2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhcmRPd25lciA9IGRhdGEub3duZXIuX2lkO1xuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcbiAgICAgICAgdGhpcy5faGFuZGxlUmVtb3ZlQ2FyZCA9IGhhbmRsZVJlbW92ZUNhcmRcbiAgICB9XG5cbiAgICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgICAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19jYXJkJylcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50XG4gICAgfVxuXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICAvL3NldCB1cCBldmVudHNcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9faGVhcnQtaWNvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkKHRoaXMpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19kZWxldGUtaWNvbicpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoeyBpZDogdGhpcy5fY2FyZElkIH0pO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19pbWFnZScpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh7IGxpbms6IHRoaXMuX2xpbmssIG5hbWU6IHRoaXMuX25hbWUgfSk7XG4gICAgICAgICAgICB9KVxuXG4gICAgfTtcblxuICAgIHJlbW92ZUNhcmQoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICAgIH1cblxuICAgIHVwZGF0ZUNvdW50KHJlcykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX190ZXh0JykudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9jYXJkTGlrZWQgPSAhdGhpcy5fY2FyZExpa2VkO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19oZWFydC1pY29uJykuY2xhc3NMaXN0LnRvZ2dsZSgncGhvdG8tZ3JpZF9faGVhcnQtaWNvbl9hY3RpdmUnKVxuICAgIH1cblxuICAgIGdlbmVyYXRlQ2FyZCh1c2VyKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGhvdG8tZ3JpZF9faW1hZ2UnKS5zcmMgPSB0aGlzLl9saW5rO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLnBob3RvLWdyaWRfX2ltYWdlJykuYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX190ZXh0JykudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG5cblxuICAgICAgICB0aGlzLl9saWtlcy5mb3JFYWNoKGxpa2UgPT4ge1xuICAgICAgICAgICAgaWYgKGxpa2UuX2lkID09PSB1c2VyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FyZExpa2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19oZWFydC1pY29uJykuY2xhc3NMaXN0LnRvZ2dsZSgncGhvdG8tZ3JpZF9faGVhcnQtaWNvbl9hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAodGhpcy5fY2FyZE93bmVyICE9PSB1c2VyKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5waG90by1ncmlkX19kZWxldGUtaWNvbicpLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQiLCJjbGFzcyBTZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fY2FyZHMgPSBbXTtcbiAgICB9XG5cblxuICAgIGFkZEl0ZW0oZWxlbWVudCwgaWQpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuX2NhcmRzW2lkXSA9IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmVtb3ZlSXRlbShjYXJkSWQpIHtcbiAgICAgICAgbGV0IGNhcmQgPSB0aGlzLl9jYXJkc1tjYXJkSWRdXG4gICAgICAgIGNhcmQucmVtb3ZlKCk7XG4gICAgICAgIGNhcmQgPSBudWxsXG4gICAgICAgIHRoaXMuX2NhcmRzLnNwbGljZShjYXJkSWQpXG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbiIsImNsYXNzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jbG9zZSA9IHRoaXMuY2xvc2UuYmluZCh0aGlzKVxuICAgIH1cblxuICAgIG9wZW4oKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcblxuICAgIH1cblxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfdHlwZV9wcmV2aWV3JykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZS1idXR0b24nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGZvcm1CdXR0b24sIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2Zvcm1CdXR0b24gPSBmb3JtQnV0dG9uXG4gICBcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIikuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2J1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICAvL3RoaXMuY2xvc2UoKVxuICAgIH0pXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIikucmVzZXQoKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19idXR0b25cIikudGV4dENvbnRlbnQgPSB0aGlzLl9mb3JtQnV0dG9uO1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICBzZXREZWZhdWx0VmFsdWVzKG5hbWUsIGFib3V0KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdHlwZV9uYW1lXCIpLnZhbHVlID0gbmFtZVxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfdGl0bGVcIikudmFsdWUgPSBhYm91dFxuICB9XG5cbiAgc2V0Q2FyZElkKGlkKXtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX2NhcmQtaWRcIikudmFsdWUgPSBpZFxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5hYm91dF0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KVxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzXG4gIH1cblxufVxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcblxuICAgIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpLnRleHRDb250ZW50ID0gbmFtZVxuICAgICAgICBjb25zdCBpbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJylcbiAgICAgICAgaW1hZ2Uuc3JjID0gbGluaztcbiAgICAgICAgaW1hZ2UuYWx0ID0gbmFtZTtcbiAgICAgICAgc3VwZXIub3BlbigpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoSW1hZ2UiLCJjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3Ioe25hbWVTZWxlY3RvciwgdGl0bGVTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3J9KSB7XG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpLFxuICAgICAgICB0aGlzLl90aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpLFxuICAgICAgICB0aGlzLl9hdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3RvcilcbiAgICB9XG5cbiAgICBnZXRVc2VySW5mbygpe1xuICAgICAgICByZXR1cm4ge25hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LCBhYm91dDp0aGlzLl90aXRsZUVsZW1lbnQudGV4dENvbnRlbnQsIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmMgIH1cbiAgICB9XG4gICAgc2V0VXNlckluZm8ocmVzKSB7XG4gICAgICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gcmVzLm5hbWVcbiAgICAgICAgdGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gcmVzLmFib3V0XG4gICAgICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gcmVzLmF2YXRhclxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm9cbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmwsXG4gICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycyxcbiAgICAgIHRoaXMuX2hhbmRsZVJlc3BvbnNlID0gdGhpcy5faGFuZGxlUmVzcG9uc2UuYmluZCh0aGlzKSxcbiAgICAgIHRoaXMuX2hhbmRsZUVycm9yUmVzcG9uc2UgPSB0aGlzLl9oYW5kbGVFcnJvclJlc3BvbnNlLmJpbmQodGhpcylcbiAgfVxuXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBfaGFuZGxlRXJyb3JSZXNwb25zZShlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhcIkVycm9yOlwiLCBlcnIpXG4gIH1cblxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yUmVzcG9uc2UpXG4gIH1cblxuICBhZGRDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yUmVzcG9uc2UpXG4gIH1cblxuICBkZWxldGVDYXJkKF9pZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzLyR7X2lkfWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgX2lkXG4gICAgICB9KSxcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxuICAgIC5jYXRjaCh0aGlzLl9oYW5kbGVFcnJvclJlc3BvbnNlKVxuICB9XG5cbiAgYWRkTGlrZShfaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkcy9saWtlcy8ke19pZH1gLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgIF9pZFxuICAgICAgfSksXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3JSZXNwb25zZSlcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoX2lkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvbGlrZXMvJHtfaWR9YCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICBfaWRcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yUmVzcG9uc2UpXG4gIH1cblxuICBnZXRVc2VyKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3JSZXNwb25zZSlcbiAgfVxuXG4gIHNldFVzZXIobmFtZSwgYWJvdXQsIGF2YXRhcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfXVzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgIG5hbWUsIGFib3V0LCBhdmF0YXJcbiAgICAgIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxuICAgICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yUmVzcG9uc2UpXG4gIH1cblxuZ2V0QXZhdGFyKCkge1xuICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH11c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gIH0pXG4gICAgLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXG4gICAgLmNhdGNoKHRoaXMuX2hhbmRsZUVycm9yUmVzcG9uc2UpXG59XG5cbnNldEF2YXRhcihhdmF0YXIpIHtcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWUvYXZhdGFyYCwge1xuICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgYXZhdGFyXG4gICAgfSlcbiAgfSlcbiAgICAudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcbiAgICAuY2F0Y2godGhpcy5faGFuZGxlRXJyb3JSZXNwb25zZSlcbn1cblxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCJcblxuXG4vL01vZGFsIFNlbGVjdG9yc1xuY29uc3QgZWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2VkaXRcIik7XG5jb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9hZGRcIik7XG5cbi8vRm9ybSBTZWxlY3RvcnNcbmNvbnN0IGVkaXRGb3JtID0gZWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcbmNvbnN0IGFkZEZvcm0gPSBhZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG5cbi8vQnV0dG9uIHNlbGVjdG9yc1xuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5jb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhci1idXR0b25cIik7XG5cblxuLy9jYXJkIExpc3QgU2VjdGlvblxuY29uc3QgY2FyZExpc3RTZWN0aW9uID0gXCIucGhvdG8tZ3JpZFwiO1xuXG4vL0F2YXRhciBpbWFnZVxuY29uc3QgYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpXG5cbi8vQXBpXG5jb25zdCBjb25maWcgPSB7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMS9cIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiY2UwY2ZhZDktYzAyMi00NGM0LTg2NzMtODk3ZjRlYWY5ZWVkXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZyk7XG5cbi8vY3JlYXRlIGEgbmV3IGNhcmQgZnJvbSBDYXJkIGNsYXNzXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGl0ZW0pIHtcbiAgcmV0dXJuIG5ldyBDYXJkKHtcbiAgICBkYXRhOiBpdGVtLFxuICAgIGhhbmRsZUNhcmRDbGljazogKGl0ZW0pID0+IHsgcG9wdXBJbWFnZS5vcGVuKGl0ZW0pIH0sXG4gICAgaGFuZGxlTGlrZUNhcmQ6IChpdGVtKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgICAgaWYgKGl0ZW0uX2NhcmRMaWtlZCkge1xuICAgICAgICBhcGkuZGVsZXRlTGlrZShpdGVtLl9jYXJkSWQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaXRlbS51cGRhdGVDb3VudChyZXMpXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBhcGkuYWRkTGlrZShpdGVtLl9jYXJkSWQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaXRlbS51cGRhdGVDb3VudChyZXMpXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVJlbW92ZUNhcmQ6IChpdGVtKSA9PiB7IGNvbmZpcm1EZWxldGVQb3B1cC5zZXRDYXJkSWQoaXRlbS5pZCksIGNvbmZpcm1EZWxldGVQb3B1cC5vcGVuKCkgfSxcbiAgICBjYXJkU2VsZWN0b3I6IFwiLmNhcmQtdGVtcGxhdGVcIlxuICB9LFxuICApO1xufVxuXG5sZXQgY2FyZHNMaXN0ID0gXCJcIjtcblxuLy9HZXQgdXNlciBpbmZvIGFuZCBsb2FkIGluaXRpYWwgY2FyZHNcbmFwaS5nZXRVc2VyKCkudGhlbigodXNlcikgPT4ge1xuICBhcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzKSA9PiB7XG4gICAgcmVzLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGEuY3JlYXRlZEF0KSAtIG5ldyBEYXRlKGIuY3JlYXRlZEF0KSlcbiAgICBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbih7XG4gICAgICBpdGVtczogcmVzLFxuICAgICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVOZXdDYXJkKGl0ZW0sKVxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKHVzZXIuX2lkKTtcbiAgICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQsIGNhcmQuX2NhcmRJZCk7XG4gICAgICB9LFxuICAgIH0sXG4gICAgICBjYXJkTGlzdFNlY3Rpb25cbiAgICApO1xuXG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XG4gIH1cbiAgKVxuICAvL0NyZWF0ZSBhZGQgbmV3IHBsYWNlIHBvcHVwXG4gIC8vYWRkIGEgbmV3IGNhcmRcbiAgY29uc3QgYWRkUGxhY2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2FkZFwiLFxuICAgIGZvcm1CdXR0b246IFwiQ3JlYXRlXCIsXG4gICAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IG5ld1BsYWNlID0geyBuYW1lOiBkYXRhLm5hbWUsIGxpbms6IGRhdGEubGluayB9XG4gICAgICBhcGkuYWRkQ2FyZChuZXdQbGFjZSlcbiAgICAgICAgLnRoZW4oKG5ld0NhcmQpID0+IHtcbiAgICAgICAgICBjb25zdCBjYXJkID0gY3JlYXRlTmV3Q2FyZChuZXdDYXJkKVxuICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQodXNlci5faWQpXG4gICAgICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQsIGNhcmQuX2NhcmRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuZmluYWxseShhZGRQbGFjZVBvcHVwLmNsb3NlKCkpXG4gICAgfVxuICB9XG4gIClcbiAgYWRkUGxhY2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgYWRkUGxhY2VQb3B1cC5vcGVuKCkgfSlcbn0pXG5cbi8vQ3JlYXRlIGNvbmZpcm0gZGVsZXRlIHBvcHVwXG5jb25zdCBjb25maXJtRGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAge1xuICAgIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIsXG4gICAgZm9ybUJ1dHRvbjogXCJZZXNcIixcbiAgICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgICAgYXBpLmRlbGV0ZUNhcmQoZGF0YS5pZClcbiAgICAgICAgLnRoZW4oKHJlcykgPT4geyBjYXJkc0xpc3QucmVtb3ZlSXRlbShkYXRhLmlkKSB9KVxuICAgICAgICAuZmluYWxseShjb25maXJtRGVsZXRlUG9wdXAuY2xvc2UoKSlcbiAgICB9XG4gIH0pXG5jb25maXJtRGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy9TZXQgaW5pdGlhbCB1c2VyIGRhdGEgYW5kIGF2YXRhciBpbWFnZVxuYXBpLmdldFVzZXIoKS50aGVuKChyZXMpID0+IHtcbiAgY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XG4gICAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxuICAgIHRpdGxlU2VsZWN0b3I6ICcucHJvZmlsZV9fdGl0bGUnLFxuICAgIGF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2ltYWdlJ1xuICB9KVxuICB1c2VyLnNldFVzZXJJbmZvKHJlcylcbn0pXG5cbi8vQ3JlYXRlIHBvcHVwIHRvIGVkaXQgcHJvZmlsZSBpbmZvcm1hdGlvbiBcbmFwaS5nZXRVc2VyKCkudGhlbigocmVzKSA9PiB7XG4gIGNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgICB7XG4gICAgICBwb3B1cFNlbGVjdG9yOiBcIi5wb3B1cF90eXBlX2VkaXRcIixcbiAgICAgIGZvcm1CdXR0b246IFwiU2F2ZVwiLFxuICAgICAgaGFuZGxlRm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgY29uc3QgYWJvdXQgPSBkYXRhLmFib3V0O1xuICAgICAgICBhcGkuc2V0VXNlcihuYW1lLCBhYm91dClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgICAgICBwcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5maW5hbGx5KGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKSlcbiAgICAgIH1cbiAgICB9KVxuICBlZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBlZGl0UHJvZmlsZVBvcHVwLnNldERlZmF1bHRWYWx1ZXMocHJvZmlsZU5hbWUudGV4dENvbnRlbnQsIHByb2ZpbGVUaXRsZS50ZXh0Q29udGVudCksXG4gICAgICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKVxuICB9KVxufSlcblxuLy9DcmVhdGUgcG9wdXAgdG8gcHJldmlldyBpbWFnZVxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwX3R5cGVfcHJldmlldycpO1xucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL0NyZWF0IHBvcHVwIHRvIGVkaXQgYXZhdGFyXG5jb25zdCBlZGl0QXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIsXG4gIGZvcm1CdXR0b246IFwiU2F2ZVwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGF2YXRhclVybCA9IGRhdGEubGluaztcbiAgICBhcGkuc2V0QXZhdGFyKGF2YXRhclVybClcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIGF2YXRhckltYWdlLnNyYyA9IGF2YXRhclVybDtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShlZGl0QXZhdGFyUG9wdXAuY2xvc2UoKSlcbiAgfVxufSlcblxuZWRpdEF2YXRhclBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgZWRpdEF2YXRhclBvcHVwLm9wZW4oKSB9KVxuXG4vL1ZhbGlkYXRpb25cbmNvbnN0IGZvcm1WYWxpZGF0aW9uU2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5mb3JtX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG4vL0NyZWF0ZSBpbnN0YW5jZSBvZiBGb3JtVmFsaWRhdG9yXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybVZhbGlkYXRpb25TZXR0aW5ncywgYWRkRm9ybSk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtVmFsaWRhdGlvblNldHRpbmdzLCBlZGl0Rm9ybSk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9nZXRJbnZhbGlkSW5wdXQiLCJfYnV0dG9uIiwiZGlzYWJsZWQiLCJfaW5wdXRMaXN0Iiwic29tZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlTGlrZUNhcmQiLCJoYW5kbGVSZW1vdmVDYXJkIiwiY2FyZFNlbGVjdG9yIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRJZCIsIl9pZCIsIl9saWtlcyIsImxpa2VzIiwiX2NhcmRMaWtlZCIsIl9jYXJkT3duZXIiLCJvd25lciIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDYXJkIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsInJlcyIsImxlbmd0aCIsInRvZ2dsZSIsInVzZXIiLCJfZ2V0VGVtcGxhdGUiLCJzcmMiLCJhbHQiLCJsaWtlIiwiaGlkZGVuIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJfY2FyZHMiLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmRJZCIsImNhcmQiLCJzcGxpY2UiLCJpdGVtIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtQnV0dG9uIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2Zvcm1CdXR0b24iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImFib3V0IiwidmFsdWUiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZSIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwidGl0bGVTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX3RpdGxlRWxlbWVudCIsIl9hdmF0YXJFbGVtZW50IiwiYXZhdGFyIiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2hhbmRsZVJlc3BvbnNlIiwiX2hhbmRsZUVycm9yUmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZldGNoIiwidGhlbiIsImNhdGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0TW9kYWwiLCJhZGRNb2RhbCIsImVkaXRGb3JtIiwiYWRkRm9ybSIsImVkaXRCdXR0b24iLCJhZGRCdXR0b24iLCJhdmF0YXJCdXR0b24iLCJhdmF0YXJJbWFnZSIsInByb2ZpbGVOYW1lIiwicHJvZmlsZVRpdGxlIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImNyZWF0ZU5ld0NhcmQiLCJwb3B1cEltYWdlIiwib3BlbiIsImRlbGV0ZUxpa2UiLCJ1cGRhdGVDb3VudCIsImFkZExpa2UiLCJjb25maXJtRGVsZXRlUG9wdXAiLCJzZXRDYXJkSWQiLCJjYXJkc0xpc3QiLCJnZXRVc2VyIiwiZ2V0SW5pdGlhbENhcmRzIiwic29ydCIsImEiLCJiIiwiRGF0ZSIsImNyZWF0ZWRBdCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiYWRkUGxhY2VQb3B1cCIsIm5ld1BsYWNlIiwiYWRkQ2FyZCIsIm5ld0NhcmQiLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJkZWxldGVDYXJkIiwicmVtb3ZlSXRlbSIsInNldFVzZXJJbmZvIiwiZWRpdFByb2ZpbGVQb3B1cCIsInNldFVzZXIiLCJzZXREZWZhdWx0VmFsdWVzIiwiZWRpdEF2YXRhclBvcHVwIiwiYXZhdGFyVXJsIiwic2V0QXZhdGFyIiwiZm9ybVZhbGlkYXRpb25TZXR0aW5ncyIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9